post-users-create:
  handler: src/handlers/users/post-users-create.handler
  timeout: 30
  events:
    - http:
        path: /users/create
        method: post
        cors: true

post-users-authenticate:
  handler: src/handlers/users/post-users-authenticate.handler
  timeout: 30
  events:
    - http:
        path: /users/authenticate
        method: post
        cors: true

post-users-verify:
  handler: src/handlers/users/post-users-verify.handler
  timeout: 30
  events:
    - http:
        path: /users/verify
        method: post
        cors: true

post-users-generate-verification-code:
  handler: src/handlers/users/post-users-generate-verification-code.handler
  timeout: 30
  events:
    - http:
        path: /users/generate-verification-code
        method: post
        cors: true

get-users-token-refresh:
  handler: src/handlers/users/get-users-token-refresh.handler
  timeout: 30
  events:
    - http:
        path: /users/token/refresh
        method: get
        cors: true

post-users-password-reset:
  handler: src/handlers/users/post-users-password-reset.handler
  timeout: 30
  events:
    - http:
        path: /users/password-reset
        method: post
        cors: true

post-users-password-confirm:
  handler: src/handlers/users/post-users-password-confirm.handler
  timeout: 30
  events:
    - http:
        path: /users/password-confirm
        method: post
        cors: true

get-users-idp-github-authorize:
  handler: src/handlers/users/idp/github/get-users-idp-github-authorize.handler
  timeout: 30
  events:
    - http:
        path: /users/idp/github/authorize
        method: get
        cors: true

get-users-idp-github-callback:
  handler: src/handlers/users/idp/github/get-users-idp-github-callback.handler
  timeout: 30
  events:
    - http:
        path: /users/idp/github/callback
        method: get
        cors: true

get-users-idp-google-authorize:
  handler: src/handlers/users/idp/google/get-users-idp-google-authorize.handler
  timeout: 30
  events:
    - http:
        path: /users/idp/google/authorize
        method: get
        cors: true

get-users-idp-google-callback:
  handler: src/handlers/users/idp/google/get-users-idp-google-callback.handler
  timeout: 30
  events:
    - http:
        path: /users/idp/google/callback
        method: get
        cors: true

# get-users-id:
#   handler: src/handlers/users/get-users-id.handler
#   timeout: 30
#   events:
#     - http:
#         path: /users/{id}
#         method: get
#         cors: true
#         authorizer: user-authorizer

get-users-me:
  handler: src/handlers/users/get-users-me.handler
  timeout: 30
  events:
    - http:
        path: /users/me
        method: get
        cors: true
        authorizer: user-authorizer

get-users-session:
  handler: src/handlers/users/get-users-session.handler
  timeout: 30
  events:
    - http:
        path: /users/session
        method: get
        cors: true
        authorizer: session-authorizer

post-users-mfa-enroll:
  handler: src/handlers/users/mfa/post-users-mfa-enroll.handler
  timeout: 30
  events:
    - http:
        path: /users/mfa/enroll
        method: post
        cors: true
        authorizer: user-authorizer
